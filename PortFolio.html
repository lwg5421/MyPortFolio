<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Not NULL | ëŠì„ì—†ì´ ì„±ì¥í•˜ëŠ” ê°œë°œì í¬íŠ¸í´ë¦¬ì˜¤</title>
    
    <meta name="description" content="Reactì™€ Node.jsì— ê°•ì ì„ ê°€ì§„ ê°œë°œì Not NULLì˜ ê¸°ìˆ  ìŠ¤íƒ, í”„ë¡œì íŠ¸, ê²½ë ¥ì„ ë‹´ì€ í¬íŠ¸í´ë¦¬ì˜¤ì…ë‹ˆë‹¤.">
    <meta name="keywords" content="ì›¹ê°œë°œì, í”„ë¡ íŠ¸ì—”ë“œ, ë°±ì—”ë“œ, í¬íŠ¸í´ë¦¬ì˜¤, React, Node.js, Not NULL, ê¸°ì—…ë¶„ì„">
    <meta name="author" content="Not NULL">
    
    <meta property="og:title" content="Not NULL | ê°œë°œì í¬íŠ¸í´ë¦¬ì˜¤">
    <meta property="og:description" content="ê¸°ìˆ ë¡œ ë” ë‚˜ì€ ì„¸ìƒì„ ë§Œë“œëŠ” ê°œë°œì, Not NULLì˜ í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ ë§Œë‚˜ë³´ì„¸ìš”.">
    <meta property="og:image" content="https://via.placeholder.com/1200x630.png?text=Not+NULL's+Portfolio">
    <meta property="og:url" content="https://your-domain.com">
    <meta property="og:type" content="website">

    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸš€</text></svg>">

    <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <style>
        :root {
            --bg-color: #f9f9f9; --section-bg-color: #ffffff; --text-color: #333; --subtext-color: #666; --accent-color: #007bff; --border-color: #eee; --shadow-color: rgba(0,0,0,0.05); --timeline-line-color: #e0e0e0;
        }
        body.dark-mode {
            --bg-color: #1a1a1a; --section-bg-color: #2c2c2c; --text-color: #f0f0f0; --subtext-color: #a0a0a0; --border-color: #444; --shadow-color: rgba(0,0,0,0.2); --timeline-line-color: #555;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; line-height: 1.7; background-color: var(--bg-color); color: var(--text-color); transition: background-color 0.3s, color 0.3s; }
        .container { max-width: 1100px; margin: 0 auto; padding: 0 20px; }
        a { text-decoration: none; color: var(--accent-color); }
        section { padding: 80px 0; overflow-x: hidden; }
        .page-section { display: none; }
        .section-title { font-size: 2.8rem; text-align: center; margin-bottom: 60px; font-weight: 700; }
        .header { background-color: var(--section-bg-color); box-shadow: 0 2px 4px var(--shadow-color); padding: 1rem 0; position: sticky; top: 0; z-index: 1000; }
        .header .container { display: flex; justify-content: space-between; align-items: center; }
        .logo a { color: var(--text-color); font-size: 1.6rem; font-weight: bold; cursor: pointer; }
        .navigation ul { list-style: none; display: flex; gap: 25px; }
        .navigation a { color: var(--subtext-color); font-weight: 500; font-size: 1rem; padding-bottom: 5px; border-bottom: 2px solid transparent; cursor: pointer; }
        .navigation a:hover, .navigation a.active { color: var(--accent-color); border-bottom-color: var(--accent-color); }
        .header-right { display: flex; align-items: center; gap: 20px; }
        .menu-toggle-btn, .dark-mode-toggle { background: none; border: none; cursor: pointer; color: var(--text-color); font-size: 1.5rem; }
        .menu-toggle-btn { display: none; }
        
        #hero { background-color: var(--section-bg-color); text-align: center; display: flex; align-items: center; justify-content: center; min-height: 70vh; }
        #hero .hero-content h1 { font-size: 4rem; margin-bottom: 15px; font-weight: 800; }
        #hero .hero-content .subtitle { font-size: 1.5rem; color: var(--subtext-color); min-height: 2.4rem; }
        
        .search-bar { display: flex; max-width: 600px; margin: 0 auto 40px; gap: 10px; }
        #company-search-input { flex-grow: 1; padding: 12px; font-size: 1rem; border: 1px solid var(--border-color); border-radius: 8px; background-color: var(--bg-color); color: var(--text-color); }
        #company-search-btn { padding: 12px 20px; background-color: var(--accent-color); color: #fff; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; }
        .analysis-content.hidden { display: none; }
        #analysis-status { text-align: center; font-weight: 500; color: var(--subtext-color); min-height: 1.5rem; }
        #interview-form { max-width: 800px; margin: 0 auto 40px auto; background-color: var(--section-bg-color); padding: 30px; border-radius: 12px; box-shadow: 0 4px 8px var(--shadow-color); }
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
        .form-group.full-width { grid-column: 1 / -1; }
        .form-group label { display: block; margin-bottom: 5px; font-weight: 500; }
        .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 12px; border-radius: 8px; border: 1px solid var(--border-color); background-color: var(--bg-color); color: var(--text-color); font-size: 1rem; }
        .form-status { text-align: center; margin-top: 15px; font-weight: 500; min-height: 1.5rem; transition: color 0.3s; }
        .form-status.success { color: #28a745; }
        .form-status.error { color: #dc3545; }
        #interview-board { max-width: 800px; margin: 0 auto; display: grid; grid-template-columns: 1fr; gap: 20px; }
        
        /* =================================== */
        /* [ìˆ˜ì •ë¨] ì¸í„°ë·° ì¹´ë“œ í† ê¸€ ìŠ¤íƒ€ì¼ */
        /* =================================== */
        .interview-card {
            background-color: var(--section-bg-color);
            border-radius: 8px;
            box-shadow: 0 4px 8px var(--shadow-color);
            border: 1px solid var(--border-color);
            overflow: hidden; 
            transition: box-shadow 0.3s ease;
        }
        .interview-card:hover {
             box-shadow: 0 8px 16px var(--shadow-color);
        }
        .interview-card-toggle {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 25px;
            cursor: pointer;
        }
        .interview-card-toggle h4 { 
            font-size: 1.3rem; 
            margin: 0; 
            color: var(--text-color);
        }
        .interview-card-toggle span { 
            color: var(--subtext-color); 
            font-size: 0.95rem; 
            font-weight: 500;
        }
        .toggle-icon { 
            color: var(--subtext-color); 
            transition: transform 0.3s ease;
            font-size: 1.1rem;
        }
        .interview-card-content {
            display: none; /* ê¸°ë³¸ ìˆ¨ê¹€ */
            padding: 0 25px 25px 25px;
        }
        .interview-card-content .interview-card-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 10px 20px;
            margin-bottom: 20px;
            font-size: 0.95rem;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
            color: var(--subtext-color);
        }
        .interview-card-content .interview-card-meta span strong {
            color: var(--text-color);
            margin-right: 5px;
        }
        .interview-card-content strong { 
            display: block; 
            margin-top: 15px; 
            font-size: 1.1rem; 
            color: var(--text-color); 
        }
        .interview-card-content p { 
            white-space: pre-wrap; 
            margin-top: 10px; 
            color: var(--subtext-color);
            line-height: 1.8;
        }
        .delete-interview-btn {
            background-color: var(--subtext-color);
            color: var(--bg-color);
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            margin-top: 20px;
            font-weight: 500;
            transition: background-color 0.2s, color 0.2s;
        }
        .delete-interview-btn:hover { 
            background-color: #dc3545; 
            color: #fff; 
        }

        /* [ìˆ˜ì •ë¨] ì¹´ë“œê°€ í¼ì³ì¡Œì„ ë•Œ ìŠ¤íƒ€ì¼ */
        .interview-card.expanded .interview-card-content { 
            display: block; 
        }
        .interview-card.expanded .toggle-icon { 
            transform: rotate(180deg); 
        }
        /* =================================== */
        /* ìŠ¤íƒ€ì¼ ìˆ˜ì • ë */
        /* =================================== */

        .analysis-section { margin-bottom: 50px; }
        .analysis-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
        .analysis-table th, .analysis-table td { padding: 12px 15px; border: 1px solid var(--border-color); text-align: left; }
        .analysis-table th { background-color: var(--bg-color); width: 25%; font-weight: 600; }
        .swot-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; }
        .swot-card { background: var(--section-bg-color); border: 1px solid var(--border-color); padding: 20px; border-radius: 8px; }
        .footer { background-color: var(--section-bg-color); padding: 40px 0; text-align: center; border-top: 1px solid var(--border-color); }
        #back-to-top { position: fixed; bottom: 30px; right: 30px; background-color: var(--accent-color); color: #fff; border: none; border-radius: 50%; width: 50px; height: 50px; font-size: 1.5rem; cursor: pointer; display: none; opacity: 0; z-index: 100; }
        #back-to-top.show { display: block; opacity: 1; }
        @media (max-width: 768px) {
            #hero .hero-content h1 { font-size: 2.5rem; }
            .menu-toggle-btn { display: block; }
            .navigation { position: absolute; top: 100%; left: 0; width: 100%; background-color: var(--section-bg-color); display: none; max-height: 0; overflow: hidden; transition: max-height 0.3s ease-in-out; }
            .navigation.active { display: block; max-height: 500px; }
            .navigation ul { flex-direction: column; text-align: center; }
            .navigation ul li { padding: 15px 0; border-top: 1px solid var(--border-color); }
            .form-grid { grid-template-columns: 1fr; }
            .analysis-table th { width: 35%; }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <h1 class="logo"><a data-target="home">HGD</a></h1>
            <div class="header-right">
                <nav class="navigation">
                    <ul>
                        <li><a data-target="home" class="active">ì†Œê°œ</a></li>
                        <li><a data-target="analysis">ê¸°ì—… ë¶„ì„</a></li>
                        <li><a data-target="interview">ì¸í„°ë·° ê¸°ë¡</a></li>
                    </ul>
                </nav>
                <button class="dark-mode-toggle" aria-label="ë‹¤í¬ ëª¨ë“œ ì „í™˜"><i class="fa-solid fa-circle-half-stroke"></i></button>
                <button class="menu-toggle-btn" aria-label="ë©”ë‰´ ì—´ê¸°"><i class="fa-solid fa-bars"></i></button>
            </div>
        </div>
    </header>

    <main>
        <section id="hero" class="home-section">
            <div class="container" data-aos="fade-in">
                <div class="hero-content">
                    <h1>Not NULLì…ë‹ˆë‹¤.</h1>
                    <p id="typing-subtitle" class="subtitle"></p>
                </div>
            </div>
        </section>
        
        <section id="analysis" class="page-section">
            <div class="container">
                <h2 class="section-title" data-aos="fade-up">ê¸°ì—… ë¶„ì„</h2>
                <div class="search-bar" data-aos="fade-up" data-aos-delay="100">
                    <input type="text" id="company-search-input" placeholder="ê¸°ì—…ëª…ì„ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: ì‚¼ì„±ì „ì, ì¹´ì¹´ì˜¤)">
                    <button id="company-search-btn">ê²€ìƒ‰</button>
                </div>
                <div id="analysis-content" class="hidden" data-aos="fade-in" data-aos-delay="200">
                        <div class="analysis-section"><h3>1. ê¸°ì—…ê°œìš”</h3><table class="analysis-table"><tbody><tr><th>ê¸°ì—…ëª…</th><td id="corp-name"></td></tr><tr><th>í™ˆí˜ì´ì§€ ì£¼ì†Œ</th><td id="corp-website"></td></tr><tr><th>ì„¤ë¦½ì—°ë„</th><td id="corp-founded"></td></tr><tr><th>ëŒ€í‘œì´ì‚¬</th><td id="corp-ceo"></td></tr><tr><th>ë¯¸ì…˜/ë¹„ì „/í•µì‹¬ê°€ì¹˜</th><td id="corp-vision" style="white-space: pre-wrap;"></td></tr><tr><th>ë³¸ì‚¬ ë° ì§€ì‚¬ ìœ„ì¹˜</th><td id="corp-location"></td></tr><tr><th>ì£¼ìš” ì‚¬ì—… ë¶„ì•¼</th><td id="corp-biz-area"></td></tr><tr><th>ì£¼ìš” ì œí’ˆ ë° ì„œë¹„ìŠ¤</th><td id="corp-services"></td></tr></tbody></table></div>
                    <div class="analysis-section"><h3>2. ì¬ë¬´ë¶„ì„</h3><table class="analysis-table"><tbody><tr><th>ë§¤ì¶œì•¡ (3ë…„)</th><td id="corp-revenue"></td></tr><tr><th>ì˜ì—…ì´ìµ (3ë…„)</th><td id="corp-profit"></td></tr><tr><th>ë‹¹ê¸°ìˆœì´ìµ (3ë…„)</th><td id="corp-net-income"></td></tr><tr><th>ì‚¬ì—…ì„±ê³¼ (ìµœê·¼ 3ë…„)</th><td id="corp-performance" style="white-space: pre-wrap;"></td></tr></tbody></table></div>
                    <div class="analysis-section"><h3>3. SWOT ë¶„ì„</h3><div class="swot-grid"><div class="swot-card"><h4>ê°•ì  (Strength)</h4><ul id="swot-strength"></ul></div><div class="swot-card"><h4>ì•½ì  (Weakness)</h4><ul id="swot-weakness"></ul></div><div class="swot-card"><h4>ê¸°íšŒ (Opportunity)</h4><ul id="swot-opportunity"></ul></div><div class="swot-card"><h4>ìœ„í˜‘ (Threat)</h4><ul id="swot-threat"></ul></div></div><table class="analysis-table" style="margin-top: 20px;"><tbody><tr><th>ì„ íƒ ì „ëµ ë° ê·¼ê±°</th><td id="swot-strategy"></td></tr></tbody></table></div>
                    <div class="analysis-section"><h3>4. ì‚°ì—…ë¶„ì„</h3><table class="analysis-table"><tbody><tr><th>ë¶„ì„ ë°©ë²•</th><td id="industry-method"></td></tr><tr><th>ë¶„ì„ ê²°ê³¼</th><td id="industry-result"></td></tr><tr><th>ê²½ìŸì‚¬ ë° ë™ì¢…ì—…ì²´</th><td id="industry-competitors"></td></tr><tr><th>ê²½ìŸì‚¬ ë¶„ì„ (ì—…ì¢…)</th><td id="industry-competitor-analysis"></td></tr></tbody></table></div>
                    <div class="analysis-section"><h3>5. ì§ë¬´ë¶„ì„ (í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì)</h3><table class="analysis-table"><tbody><tr><th>ì£¼ìš” ì§ë¬´</th><td id="job-duties"></td></tr><tr><th>ì§ë¬´ ì„¤ëª…</th><td id="job-description"></td></tr><tr><th>í•„ìš” ì§€ì‹ (K)</th><td id="job-knowledge"></td></tr><tr><th>í•„ìš” ê¸°ìˆ  (S)</th><td id="job-skills"></td></tr><tr><th>í•„ìš” íƒœë„ (A)</th><td id="job-attitude"></td></tr><tr><th>ê´€ë ¨ ìê²©ì¦</th><td id="job-certs"></td></tr><tr><th>ì—…ë¬´ í™˜ê²½</th><td id="job-env"></td></tr><tr><th>ê²½ë ¥ ê°œë°œ ê¸°íšŒ</th><td id="job-career-dev"></td></tr></tbody></table></div>
                    <div class="analysis-section"><h3>6. ë³´ìœ ì—­ëŸ‰ ë° ìê¸°ë¶„ì„</h3><table class="analysis-table"><tbody><tr><th>ë³´ìœ  ì§€ì‹ (K)</th><td id="my-knowledge"></td></tr><tr><th>ë³´ìœ  ìŠ¤í‚¬ (S)</th><td id="my-skills"></td></tr><tr><th>ë³´ìœ  íƒœë„ (A)</th><td id="my-attitude"></td></tr><tr><th>ì•¡ì…˜í”Œëœ (1)</th><td id="my-plan1"></td></tr><tr><th>ì•¡ì…˜í”Œëœ (2)</th><td id="my-plan2"></td></tr><tr><th>ì•¡ì…˜í”Œëœ (3)</th><td id="my-plan3"></td></tr></tbody></table></div>
                </div>
                 <p id="analysis-status">ë¶„ì„í•  ê¸°ì—…ëª…ì„ ê²€ìƒ‰í•´ì£¼ì„¸ìš”.</p>
            </div>
        </section>

        <section id="interview" class="page-section">
            <div class="container">
                <h2 class="section-title" data-aos="fade-up">ì¸í„°ë·° ê¸°ë¡</h2>
                <form id="interview-form" data-aos="fade-up" data-aos-delay="100">
                    <div class="form-grid">
                        <div class="form-group"><label for="interview-company">íšŒì‚¬ëª…</label><input type="text" id="interview-company" required></div>
                        <div class="form-group"><label for="interview-date">ë©´ì ‘ì¼</label><input type="date" id="interview-date" required></div>
                        <div class="form-group"><label for="interview-position">ì§€ì› ì§ë¬´</label><input type="text" id="interview-position" required></div>
                        <div class="form-group"><label for="interview-stage">ë©´ì ‘ ë‹¨ê³„</label><select id="interview-stage" required><option value="">ì„ íƒí•˜ì„¸ìš”</option><option value="ì„œë¥˜ì „í˜•">ì„œë¥˜ì „í˜•</option><option value="ì½”ë”©í…ŒìŠ¤íŠ¸">ì½”ë”©í…ŒìŠ¤íŠ¸</option><option value="1ì°¨ ë©´ì ‘ (ì‹¤ë¬´)">1ì°¨ ë©´ì ‘ (ì‹¤ë¬´)</option><option value="2ì°¨ ë©´ì ‘ (ì„ì›)">2ì°¨ ë©´ì ‘ (ì„ì›)</option><option value="ìµœì¢… í•©ê²©">ìµœì¢… í•©ê²©</option></select></div>
                    </div>
                    <div class="form-group full-width"><label for="interview-questions">ì£¼ìš” ì§ˆì˜ì‘ë‹µ</label><textarea id="interview-questions" rows="8" placeholder="ë©´ì ‘ì—ì„œ ì˜¤ê³  ê°”ë˜ ì§ˆë¬¸ê³¼ ë‹µë³€ì„ ìƒì„¸íˆ ê¸°ë¡í•´ë³´ì„¸ìš”."></textarea></div>
                    <div class="form-group full-width"><label for="interview-review">ê°œì¸ì ì¸ ì†Œê° / í”¼ë“œë°±</label><textarea id="interview-review" rows="5" placeholder="ë©´ì ‘ì„ í†µí•´ ëŠë‚€ ì , ì•„ì‰¬ì› ë˜ ì , ì•ìœ¼ë¡œ ë³´ì™„í•  ì  ë“±ì„ ììœ ë¡­ê²Œ ì‘ì„±í•˜ì„¸ìš”."></textarea></div>
                    <button type="submit" class="submit-btn">ê¸°ë¡ ì¶”ê°€í•˜ê¸°</button>
                    <p id="interview-status" class="form-status"></p>
                </form>
                <div id="interview-board" style="margin-top: 50px;">
                    </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container"><div class="social-links"><a href="https://github.com" target="_blank" aria-label="GitHub"><i class="fa-brands fa-github"></i></a><a href="https://linkedin.com" target="_blank" aria-label="LinkedIn"><i class="fa-brands fa-linkedin"></i></a><a href="https://velog.io" target="_blank" aria-label="Blog"><i class="fa-solid fa-blog"></i></a></div><p>&copy; 2025 Not NULL. All rights reserved.</p></div>
    </footer>
    
    <button id="back-to-top" aria-label="ë§¨ ìœ„ë¡œ ê°€ê¸°"><i class="fa-solid fa-arrow-up"></i></button>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://unpkg.com/typeit@8.7.1/dist/index.umd.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // ---- ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‹¤íŒ¨í•´ë„ ì „ì²´ ë¡œì§ ìœ ì§€ ----
            try { AOS.init({ duration: 800, once: true }); }
            catch (e) { console.warn('AOS not available, continuing without it.', e); }
        
            // ---- ê³µìš© í•¨ìˆ˜ ----
            const $ = (s, r=document) => r.querySelector(s);
            const $$ = (s, r=document) => Array.from(r.querySelectorAll(s));
            const setText = (id, v) => { const el=document.getElementById(id); if(el) el.textContent = (v ?? '-'); };
            const setList = (id, items=[]) => { const ul=document.getElementById(id); if(!ul) return;
                ul.innerHTML=''; if(!Array.isArray(items)||!items.length){const li=document.createElement('li');li.textContent='-';ul.appendChild(li);return;}
                items.forEach(t=>{const li=document.createElement('li'); li.textContent=String(t); ul.appendChild(li);});
            };
            const safeLinkIntoCell = (id, raw) => {
                const td=document.getElementById(id); if(!td) return; td.textContent='-';
                if(!raw) return; let href=String(raw).trim(); if(!/^https?:\/\//i.test(href)) href='https://'+href;
                try{ new URL(href); }catch{return;}
                const a=document.createElement('a'); a.href=href; a.target='_blank'; a.rel='noopener noreferrer'; a.textContent=raw;
                td.innerHTML=''; td.appendChild(a);
            };
        
            // ---- API ë² ì´ìŠ¤ ----
            const API_BASE = (location.protocol.startsWith('http'))
                ? `${location.protocol}//${location.hostname}:5000`
                : 'http://127.0.0.1:5000';
        
            // ---- í˜ì´ì§€ ì „í™˜/ë„¤ë¹„ ----
            const navLinks = $$('.navigation a, .logo a');
            const allSections = $$('main > section');
            const homeSections = $$('.home-section');
            function showPage(id){ allSections.forEach(s=>s.style.display='none'); (id==='home'?homeSections:[document.getElementById(id)]).forEach(s=>s&&(s.style.display='block')); window.scrollTo(0,0); }
            navLinks.forEach(link=>link.addEventListener('click',e=>{e.preventDefault(); const id=link.dataset.target;
                navLinks.forEach(l=>l.classList.remove('active')); $$(`[data-target="${id}"]`).forEach(a=>a.classList.add('active'));
                if(window.innerWidth<=768) $('.navigation').classList.remove('active'); showPage(id);
            }));
            showPage('home');
        
            // ---- ê¸°íƒ€ UI ----
            try{ new TypeIt("#typing-subtitle",{strings:["ë°°ìš°ê³  ì„±ì¥í•˜ëŠ” ê°œë°œìì…ë‹ˆë‹¤.","ì‚¬ìš©ì ê²½í—˜ì„ ì¤‘ìš”í•˜ê²Œ ìƒê°í•©ë‹ˆë‹¤."],speed:75,loop:true,loopDelay:3000,breakLines:false}).go(); }
            catch(e){ console.warn('TypeIt not available, continuing.', e); }
            $('.menu-toggle-btn').addEventListener('click',()=>$('.navigation').classList.toggle('active'));
            const dmt=$('.dark-mode-toggle'); if(localStorage.getItem('theme')==='dark') document.body.classList.add('dark-mode');
            dmt.addEventListener('click',()=>{document.body.classList.toggle('dark-mode'); localStorage.setItem('theme',document.body.classList.contains('dark-mode')?'dark':'light');});
            const backBtn=$('#back-to-top'); window.addEventListener('scroll',()=>backBtn.classList.toggle('show',window.scrollY>300)); backBtn.addEventListener('click',()=>window.scrollTo({top:0,behavior:'smooth'}));
            
            // =================================================================
            // ê¸°ì—… ë¶„ì„ ë¡œì§
            // =================================================================
            const input = $('#company-search-input');
            const btn = $('#company-search-btn');
            const panel = $('#analysis-content');
            const statusEl = $('#analysis-status');

            let companyList = []; 

            async function loadCompanyCodes() {
                try {
                    statusEl.textContent = 'DART ê¸°ì—… ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...';
                    const response = await fetch('./CORPCODE.xml'); 
                    if (!response.ok) throw new Error('CORPCODE.xml íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                    
                    const xmlString = await response.text();
                    const parser = new DOMParser();
                    const xmlDoc = parser.parseFromString(xmlString, "text/xml");
                    
                    const items = xmlDoc.querySelectorAll('list');
                    companyList = Array.from(items).map(item => ({
                        name: item.querySelector('corp_name').textContent.trim(),
                        code: item.querySelector('corp_code').textContent.trim()
                    }));
                    
                    statusEl.textContent = `âœ… ì´ ${companyList.length.toLocaleString()}ê°œ ê¸°ì—… ëª©ë¡ ë¡œë”© ì™„ë£Œ! ë¶„ì„í•  ê¸°ì—…ëª…ì„ ê²€ìƒ‰í•´ì£¼ì„¸ìš”.`;
                    console.log('DART ê¸°ì—… ëª©ë¡ ë¡œë”© ì„±ê³µ:', companyList);

                } catch (err) {
                    statusEl.textContent = `ğŸ˜¥ ê¸°ì—… ëª©ë¡ ë¡œë”© ì‹¤íŒ¨: ${err.message}. CORPCODE.xml íŒŒì¼ì´ ìˆëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”.`;
                    console.error('ê¸°ì—… ëª©ë¡ ë¡œë”© ì‹¤íŒ¨:', err);
                }
            }

            async function fetchCompanyData(code) {
                statusEl.textContent = 'ê¸°ë³¸ ì •ë³´ë¥¼ DARTì—ì„œ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...';
                const y = (new Date()).getFullYear();
                const [r1, r2] = await Promise.all([
                    fetch(`${API_BASE}/api/company?code=${code}`),
                    fetch(`${API_BASE}/api/finance?code=${code}&year=${y - 1}`)
                ]);
                if (!r1.ok || !r2.ok) throw new Error('ë°±ì—”ë“œ ì„œë²„ í˜¸ì¶œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
                const d1 = await r1.json(), d2 = await r2.json();
                if (d1.status !== "000" && d1.status !== "013") throw new Error(d1.message || 'ê¸°ì—… ê¸°ë³¸ì •ë³´ ì˜¤ë¥˜');
                if (d2.status !== "000" && d2.status !== "013") throw new Error('ì¬ë¬´ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                return { overviewData: d1, financeData: d2 };
            }

            async function fetchGeneratedAnalysis(name, bizArea) {
                statusEl.textContent = 'âœ… ê¸°ë³¸ ì •ë³´ ë¡œë”© ì™„ë£Œ! Geminië¡œ ì¶”ê°€ ë¶„ì„ì„ ìƒì„±í•˜ëŠ” ì¤‘...';
                const r = await fetch(`${API_BASE}/api/generate-analysis`, {
                    method: 'POST', headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ name, bizArea })
                });
                if (!r.ok) {
                    const err = await r.json().catch(() => ({}));
                    const extra = err.upstream || err.detail || err.error || `HTTP ${r.status}`;
                    throw new Error(`Gemini ë¶„ì„ ë°ì´í„° ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ${extra}`);
                }
                return await r.json();
            }

            function populateAnalysisData({ overviewData, financeData }) {
                const allDataCells = $$('#analysis-content td, #analysis-content ul');
                allDataCells.forEach(el => {
                    if (el.tagName === 'UL') {
                        el.innerHTML = '';
                    } else {
                        el.textContent = '';
                    }
                });
                
                ['corp-vision','corp-services','corp-performance','swot-strategy','industry-method','industry-result','industry-competitors','industry-competitor-analysis','job-duties','job-description','job-knowledge','job-skills','job-attitude','job-certs','job-env','job-career-dev','my-knowledge','my-skills','my-attitude','my-plan1','my-plan2','my-plan3']
                    .forEach(id => setText(id,'Gemini ë¶„ì„ ì •ë³´ ë¡œë”© ì¤‘...'));
                ['swot-strength','swot-weakness','swot-opportunity','swot-threat']
                    .forEach(id => setList(id, ['Gemini ë¶„ì„ ì •ë³´ ë¡œë”© ì¤‘...']));

                setText('corp-name', overviewData.corp_name);
                safeLinkIntoCell('corp-website', overviewData.hm_url);
                const est = overviewData.est_dt;
                if (est && /^\d{8}$/.test(est)) setText('corp-founded', `${est.slice(0,4)}ë…„ ${est.slice(4,6)}ì›” ${est.slice(6,8)}ì¼`);
                else setText('corp-founded', '-');
                setText('corp-ceo', overviewData.ceo_nm);
                setText('corp-location', overviewData.adres);
                setText('corp-biz-area', overviewData.induty_code_nm);

                const find = n => financeData.list?.find(i => i.account_nm === n);
                const fmt = s => { if (!s) return '-'; const v = parseInt(s, 10); return isNaN(v) ? '-' : `${(v / 100000000).toLocaleString('ko-KR')} ì–µì›`; };
                const rev = find('ë§¤ì¶œì•¡') || find('ìˆ˜ìµ(ë§¤ì¶œ)');
                const pro = find('ì˜ì—…ì´ìµ');
                const net = find('ë‹¹ê¸°ìˆœì´ìµ');
                const y = (it, off) => it?.bsns_year ? ` (${parseInt(it.bsns_year, 10) - off})` : '';
                setText('corp-revenue', `${fmt(rev?.thstrm_amount)}${y(rev,0)}, ${fmt(rev?.frmtrm_amount)}${y(rev,1)}, ${fmt(rev?.bfefrmtrm_amount)}${y(rev,2)}`);
                setText('corp-profit', `${fmt(pro?.thstrm_amount)}${y(pro,0)}, ${fmt(pro?.frmtrm_amount)}${y(pro,1)}, ${fmt(pro?.bfefrmtrm_amount)}${y(pro,2)}`);
                setText('corp-net-income', `${fmt(net?.thstrm_amount)}${y(net,0)}, ${fmt(net?.frmtrm_amount)}${y(net,1)}, ${fmt(net?.bfefrmtrm_amount)}${y(net,2)}`);
            }
            
            function populateGeminiData(g) {
                if (g?.error) {
                    ['corp-vision','corp-services','corp-performance','swot-strategy','industry-method','industry-result','industry-competitors','industry-competitor-analysis','job-duties','job-description','job-knowledge','job-skills','job-attitude','job-certs','job-env','job-career-dev','my-knowledge','my-skills','my-attitude','my-plan1','my-plan2','my-plan3']
                        .forEach(id => setText(id, 'Gemini ë¶„ì„ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.'));
                    return;
                }

                setText('corp-vision', g.vision);
                const servicesEl = document.getElementById('corp-services');
                if (servicesEl && Array.isArray(g.productsAndServices)) {
                    servicesEl.innerHTML = g.productsAndServices.join('<br>');
                } else {
                    setText('corp-services', '-');
                }
                setText('corp-performance', g.performanceSummary);

                if (g.swot) {
                    setList('swot-strength', g.swot.strength);
                    setList('swot-weakness', g.swot.weakness);
                    setList('swot-opportunity', g.swot.opportunity);
                    setList('swot-threat', g.swot.threat);
                    setText('swot-strategy', g.swot.strategy);
                }

                if (g.industryAnalysis) {
                    setText('industry-method', g.industryAnalysis.method);
                    setText('industry-result', g.industryAnalysis.result);
                    setText('industry-competitors', g.industryAnalysis.competitors);
                    setText('industry-competitor-analysis', g.industryAnalysis.competitorAnalysis);
                }

                if (g.job) {
                    setText('job-duties', g.job.duties);
                    setText('job-description', g.job.description);
                    setText('job-knowledge', g.job.knowledge);
                    setText('job-skills', g.job.skills);
                    setText('job-attitude', g.job.attitude);
                    setText('job-certs', g.job.certs);
                    setText('job-env', g.job.env);
                    setText('job-career-dev', g.job.careerDev);
                }
                
                if (g.selfAnalysis) {
                    setText('my-knowledge', g.selfAnalysis.knowledge);
                    setText('my-skills', g.selfAnalysis.skills);
                    setText('my-attitude', g.selfAnalysis.attitude);
                    setText('my-plan1', g.selfAnalysis.actionPlan1);
                    setText('my-plan2', g.selfAnalysis.actionPlan2);
                    setText('my-plan3', g.selfAnalysis.actionPlan3);
                }
            }

            btn.addEventListener('click', async () => {
                const query = input.value.trim();
                if (!query) {
                    statusEl.textContent = 'ê²€ìƒ‰í•  ê¸°ì—…ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.';
                    return;
                }

                const cleanQuery = query.replace(/\(ì£¼\)/g, '').trim();
                const foundCompany = companyList.find(c => c.name.replace(/\(ì£¼\)/g, '').trim() === cleanQuery);
                
                if (!foundCompany) {
                    statusEl.textContent = `ğŸ˜¥ '${query}'ì— ëŒ€í•œ ê¸°ì—… ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì •í™•í•œ ê¸°ì—…ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.`;
                    panel.classList.add('hidden');
                    return;
                }

                const code = foundCompany.code;
                const prev = btn.textContent;
                btn.disabled = true;
                btn.textContent = 'ê²€ìƒ‰ ì¤‘...';
                
                try {
                    const dartData = await fetchCompanyData(code);
                    populateAnalysisData(dartData); 
                    panel.classList.remove('hidden');
                    
                    const geminiData = await fetchGeneratedAnalysis(dartData.overviewData.corp_name, dartData.overviewData.induty_code_nm);
                    populateGeminiData(geminiData); 
                    
                    statusEl.textContent = `âœ… '${query}'ì— ëŒ€í•œ ì „ì²´ ë¶„ì„ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.`;
                } catch (err) {
                    panel.classList.add('hidden');
                    statusEl.textContent = `ğŸ˜¥ ë°ì´í„° ì¡°íšŒ ì‹¤íŒ¨: ${err.message}`;
                    console.error(err);
                } finally {
                    btn.disabled = false;
                    btn.textContent = prev;
                }
            });

            loadCompanyCodes();

            // =================================================================
            // [ìˆ˜ì •ë¨] ì¸í„°ë·° ê¸°ë¡ ë¡œì§
            // =================================================================
            const interviewForm = $('#interview-form');
            const interviewBoard = $('#interview-board');
            const interviewStatus = $('#interview-status');
            
            let interviews = JSON.parse(localStorage.getItem('interviews')) || [];

            // [ìˆ˜ì •ë¨] ë Œë”ë§ í•¨ìˆ˜ (HTML êµ¬ì¡° ë³€ê²½)
            function renderInterviews() {
                interviewBoard.innerHTML = ''; 
                if (interviews.length === 0) {
                    interviewBoard.innerHTML = '<p style="text-align: center; color: var(--subtext-color);">ì•„ì§ ê¸°ë¡ëœ ì¸í„°ë·°ê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
                    return;
                }
                
                const sortedInterviews = interviews.sort((a, b) => new Date(b.date) - new Date(a.date));
                
                sortedInterviews.forEach(item => {
                    const card = document.createElement('div');
                    card.className = 'interview-card'; // 'expanded' í´ë˜ìŠ¤ëŠ” í´ë¦­ ì‹œ ì¶”ê°€/ì œê±°
                    card.dataset.id = item.id;
                    
                    // HTML êµ¬ì¡°ë¥¼ í† ê¸€(ì•„ì½”ë””ì–¸) í˜•íƒœë¡œ ë³€ê²½
                    card.innerHTML = `
                        <div class="interview-card-toggle" role="button" tabindex="0">
                            <h4>${item.company}</h4>
                            <span>${item.date}</span>
                            <i class="fa-solid fa-chevron-down toggle-icon"></i>
                        </div>
                        <div class="interview-card-content">
                            <div class="interview-card-meta">
                                <span><strong>ì§€ì› ì§ë¬´:</strong> ${item.position}</span>
                                <span><strong>ë©´ì ‘ ë‹¨ê³„:</strong> ${item.stage}</span>
                            </div>
                            <strong>ì£¼ìš” ì§ˆì˜ì‘ë‹µ</strong>
                            <p>${item.questions.replace(/\n/g, '<br>') || 'ë‚´ìš© ì—†ìŒ'}</p>
                            <strong>ê°œì¸ì ì¸ ì†Œê° / í”¼ë“œë°±</strong>
                            <p>${item.review.replace(/\n/g, '<br>') || 'ë‚´ìš© ì—†ìŒ'}</p>
                            <button class="delete-interview-btn">ê¸°ë¡ ì‚­ì œ</button>
                        </div>
                    `;
                    interviewBoard.appendChild(card);
                });
            }

            function saveInterviews() {
                localStorage.setItem('interviews', JSON.stringify(interviews));
            }

            interviewForm.addEventListener('submit', (e) => {
                e.preventDefault(); 
                
                const company = $('#interview-company').value.trim();
                const date = $('#interview-date').value;
                const position = $('#interview-position').value.trim();
                const stage = $('#interview-stage').value;
                const questions = $('#interview-questions').value.trim();
                const review = $('#interview-review').value.trim();

                if (!company || !date || !position || !stage) {
                    interviewStatus.textContent = 'íšŒì‚¬ëª…, ë©´ì ‘ì¼, ì§€ì› ì§ë¬´, ë©´ì ‘ ë‹¨ê³„ëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤.';
                    interviewStatus.className = 'form-status error';
                    return;
                }

                const newInterview = {
                    id: Date.now().toString(), 
                    company, date, position, stage, questions, review
                };

                interviews.push(newInterview);
                saveInterviews();
                renderInterviews();

                interviewForm.reset();
                interviewStatus.textContent = 'ì¸í„°ë·° ê¸°ë¡ì´ ì„±ê³µì ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.';
                interviewStatus.className = 'form-status success';
                setTimeout(() => { interviewStatus.textContent = ''; }, 3000);
            });

            // [ìˆ˜ì •ë¨] í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ (ì´ë²¤íŠ¸ ìœ„ì„ - í† ê¸€ ë° ì‚­ì œ í†µí•©)
            interviewBoard.addEventListener('click', (e) => {
                // ì‚­ì œ ë²„íŠ¼ í´ë¦­ ì‹œ
                const deleteBtn = e.target.closest('.delete-interview-btn');
                if (deleteBtn) {
                    const card = deleteBtn.closest('.interview-card');
                    const idToDelete = card.dataset.id;
                    
                    if (confirm('ì´ ê¸°ë¡ì„ ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                        interviews = interviews.filter(item => item.id !== idToDelete);
                        saveInterviews();
                        renderInterviews();
                    }
                    return; // ì‚­ì œ ë¡œì§ í›„ ì¢…ë£Œ
                }

                // í† ê¸€ ì˜ì—­ í´ë¦­ ì‹œ
                const toggle = e.target.closest('.interview-card-toggle');
                if (toggle) {
                    const card = toggle.closest('.interview-card');
                    card.classList.toggle('expanded');
                }
            });

            renderInterviews();
        });
    </script>
    
</body>
</html>
